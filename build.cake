#addin "Cake.Git"

//////////////////////////////////////////////////////////////////////
// ARGUMENTS
//////////////////////////////////////////////////////////////////////

var target = Argument("Test", "Test");

//////////////////////////////////////////////////////////////////////
// PREPARATION
//////////////////////////////////////////////////////////////////////


//////////////////////////////////////////////////////////////////////
// TASKS
//////////////////////////////////////////////////////////////////////

Task("Test")
    .Does(() =>
{
    var result = GitLogTip(".");
    Information(result.Message);

    var versionTag = "1.2.3.999";
    var solutionFolder = ".";

    GitTag(solutionFolder, versionTag);
    GitPushRef(solutionFolder, "span\\dban", "Kimchi1357", "origin", versionTag); 
});


//////////////////////////////////////////////////////////////////////
// EXECUTION
//////////////////////////////////////////////////////////////////////

RunTarget(target);
